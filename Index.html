<!DOCTYPE html5>
<html>
    <head>
        <meta charset="utf=8">
        <title>Modulo de Facturación D&J</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>
        <script type="text/javascript" src="./js/forms.js"></script>
       <!-- <script src="/Scripts/autoNumeric/autoNumeric.min.js" type="text/javascript"></script>-->
        <link rel="stylesheet" href="CSS/styles.css">
    </head>
    <body>
        <section>
            
           <div class="center"> 
                <img 
                    src="Imagenes/logo.PNG"
                    alt ="logo_bank"
                    width="280"
                    height="250"      
                />
            </div>
            <h1 class="title">Emisión de Facturas </h1>
        </section>
        <div class="form1">        
              <!--Inicio de seccion de control-->
              <section>
                <div class="container">
                    
                    <!--botones-->

                    <div class="menubar">
                        <input class="options" type= "button" value= "Nueva factura" onclick="selectFunction()">
                        <input class="options" type= "button" value= "Anular" onclick="selectFunction()">
                        <input class="options" type= "button" value= "Imprimir" onclick="printFact()">
                        <input class="options" type= "button" value= "Generar Cobranza" onclick="selectFunction()">
                    </div>
                  
                    <!--menu de consulta-->
                    
                    <div class="row">
                        <div class="col">
                            <input type="text" placeholder="Nombres del cliente" class="form-control" id="e-anual" aria-describedby="basic-addon3">
                        </div>
                        <div class="col">
                            <input type="text" placeholder="N° de Documento" class="form-control" id="nom-anual" aria-describedby="basic-addon3">
                        </div>
                        <div class="col">
                            <input type="text" placeholder="Orden de compra"  class="form-control" id="periodo-vencido" aria-describedby="basic-addon3">
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col">
                            <input type="text" placeholder="Codigo de proceso" class="form-control" id="e-anual" aria-describedby="basic-addon3">
                        </div>
                        <div class="col">
                            <input type="text" placeholder="Referencia de la factura" class="form-control" id="nom-anual" aria-describedby="basic-addon3">
                        </div>
                        <div class="col">
                            <input type="text" placeholder="Tipo de proceso " class="form-control" id="periodo-vencido" aria-describedby="basic-addon3">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <select class="form-select" id="seleccion_credito"  name="Credito" >
                                <option value="cuota-select" >Seleccionar medio de pago</option>
                                <option value="cuota-fija">Efectivo</option>
                                <option value="cuota-gracia">Credito o debito</option>  
                            </select>
                            <div>
                              <input class="options" type= "button" value= "consultar" onclick="selectFunction()">
                          </div>
                        </div>
                        <div class="col">
                            Fecha de facturación
                            <form class="center" action="" method="">
                                <input type="date"> 
                            </form>
                        </div>
                        <div class="col">
                            fecha limite de pago
                            <form class="center" action="" method="">
                                
                                <input type="date"> 
                            </form>
                        </div>
                    </div>
                    
                  </div>
              </section>

              <!--fin de seccion de control-->

              
              <!--inicio de seccion de Muestra de Datos-->
              <section  >
                <div >   
                  <div >
                    <table class="u-table-entity">
                      <colgroup>
                        <col width="16.6%">
                        <col width="16.6%">
                        <col width="16.6%">
                        <col width="17%">
                        <col width="16.6%">
                        <col width="16.6%">
                      </colgroup>
                      <thead>
                        <tr>
                          <th >Codigo</th>
                          <th >Detalles</th>
                          <th >Proceso</th>
                          <th >Costo</th>
                          <th >Descuento%</th>
                          <th >Importe</th>
                        </tr>
                      </thead>
                      <tbody >
                        <tr>
                          <td >PL-001</td>
                          <td >analisis celulares con indices de bacterias</td>
                          <td >hemograma</td>
                          <td >259.000.00</td>
                          <td >0.0%</td>
                          <td > 259.000.00</td>
                        </tr>
                        <tr>
                          <td >PL-002</td>
                          <td >Detecion de infecciones</td>
                          <td >urianalisis&nbsp;</td>
                          <td >49.000.00</td>
                          <td >0.0%</td>
                          <td > 49.000.00</td>
                        </tr>
                        <tr style="height: 76px;">
                          <td >pL-003</td>
                          <td >cantidad de urea en la sangre</td>
                          <td >perfil renal</td>
                          <td >19.000.00</td>
                          <td >0.0%</td>
                          <td > 19.000.00</td>
                        </tr>
                        <tr style="height: 76px;">
                          <td ></td>
                          <td ></td>
                          <td ></td>
                          <td ></td>
                          <td ></td>
                          <td ></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </section>  
              <!--fin de seccion de Muestra de Datos-->

              <!--MOSTRAR DATOS DE BD-->
<script>
  //Inicia la  funcion al abrir la página
  $(document).ready(function() {
      cartelera();//ejecucion de la  función
  
      function cartelera(){//Funcion para mostrar todos los datos existentes
          $.ajax({
              type: 'GET', //GET para traer información
              url: 'recepcion.php', //Archivo de consulta
              success: function(response){//Si hay exito espera rta del svr
                  //console.log(response);
                  let jugador = JSON.parse(response);//Archivo JSON a string (respuesta)
                  let plantilla = ''//Variable vacía para mostrar los datos
  
                  // iteramos sobre todos arreglos
                  jugador.forEach(cartelera =>{
                      //html para mostrar en tabla: selección de la función clientes + el nombre del array del backend(clientes.php)
                      plantilla +=`
                          <tr player=${cartelera.id}>
                              <td>${cartelera.id}</td>
                              <td>${cartelera.pelicula}</td>
                              <td>${cartelera.director}</td>
                              <td>${cartelera.estreno}</td>
                              <td>${cartelera.sinopsis}</td>
                              <td>${cartelera.genero}</td>
                              <td><input class="actualizar" type="image" src="https://images.vexels.com/media/users/3/131901/isolated/lists/30a7829a3622fd3b61b12fcc47391cb0-recargar-el-icono-del-circulo-de-la-flecha.png" width="50px" heigth="50px"></td>
                          </tr>
                      `
                  });
                  $('#bodyTable').html(plantilla);//Tabla para mostrar datos
              }
          })
      }
  
    
  
  
      
  
  });
  </script>
    </body>
</html>